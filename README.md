# Task – Tx Validate

Публичная задачка от Владислава Козули [кто это?](https://www.youtube.com/watch?v=pfyn8dgPBUg)

Задачка из бесплатной социальной сети твиттер точка ком: [Пост](https://twitter.com/vladkozulya/status/1755209744057299174/photo/1) (осторожно в треде есть решения)

## Условия

Написать метод, который принимает список транзакий и баланс пользователя 

```typescript
type Transaction = {
  id: number;
  orderId: number;
  amount: number;
  txType: 'Bet' | 'Win';
}
```

- Вернуть произвольную структуру, где каждая транзакция помечена как валидная или невалиданая.
- Транзакции обрабатываются от меньшего id к большему.
- Bet уменьшает баланс на сумму в amount,  Win увеличивает,
- Если баланс ушел в минус, транзакция считается невалидной.
- Если транзакция не валидна, последующие транзакции с тем же orderId тоже считаются невалидными.
- Если id транзакции повторяется, такая транзакция тоже не валидна, но остальные с тем же orderId должен быть обработаны.

## Как решать

Владислав занятой человек, поэтому я сделал этот шаблон за него и написал к нему тесты. 

И так, как решать эту задачку:

1. Клонируете этот репозиторий
2. Устанавливаете зависимости `npm i` or `pnpm i`
3. Редактируете код решения в файле `src/tx-validate.ts`
4. Проверяете что ваш код вообще собирается `npm run build` (или в режиме watch `npm run dev`)
5. Запускаете тесты `npm test` (или в режиме watch `npm run test:watch`)
6. Как только все тесты проходят, оформляете pull request в этот репозиторий в ветку `main`
7. Github Actions запустит тесты и проверит ваше решение на соответствие условиям

## Дополнения

1. Тесты будут дополняться по мере поступления решений
2. Помимо самих тестов будут прогоняться eslint + [size-limit](https://github.com/ai/size-limit)
3. После PR решения, предлагаю пройтись во всем остальным PR и похвалить/покритиковать/повзламывать чужие решения
4. Предлагайте свои варианты тестов, если считаете что текущие не покрывают все случаи
5. Если у вас остались вопросы, пишите мне в телеграм [@isuvorov](https://t.me/isuvorov)
